<form class="form-container" [class.submitted]="submitted" autocomplete="off" [formGroup]="form" [empNgSpinnerHost]="spinner">
  <emp-ng-spinner #spinner [visible]="isLoading"></emp-ng-spinner>

  <fieldset>
    <table class="form-section">
      <tr>
        <td class="form-section-title" colspan="4">Aviso preventivo</td>
      </tr>
      <tr>
        <td>Interesado:</td>
        <td colspan="3" style="width:100%">
          <input type="text" class="text-box uppercase" disabled [value]="request.requestedBy.name">
        </td>
      </tr>
      <tr>
        <td class="form-section-title" colspan="4">Información del predio</td>
      </tr>
      <tr>
        <td>Folio real:</td>
        <td>
          <input type="text" class="text-box uppercase" style="width:170px" maxlength="19"
                 formControlName="propertyUID">
          <button type="button" *ngIf="!readonly" class="btn" [disabled]="readonly"
                  (click)="onReadRealEstateData()">Leer</button>
        </td>
        <td>Clave catastral:</td>
        <td>
          <input type="text" class="text-box" maxlength="31" disabled
                 [value]="realEstate.cadastralKey">
        </td>
      </tr>
      <tr>
        <td>Distrito:</td>
        <td>
          <input type="text" class="text-box" style="width:170px" disabled [value]="realEstate.district.name">
        </td>
        <td>Municipio:</td>
        <td>
          <input type="text" class="text-box" disabled [value]="realEstate.municipality.name">
        </td>
      </tr>
      <tr>
        <td>Tipo de predio:</td>
        <td>
          <input type="text" class="text-box" style="width:170px" disabled [value]="realEstate.realEstateType.name">
        </td>
        <td>Denominado:</td>
        <td>
          <input type="text" class="text-box" disabled [value]="realEstate.name">
        </td>
      </tr>
      <tr>
        <td class="align-top">Ubicado en:</td>
        <td colspan="3">
          <textarea class="text-area" rows="2" disabled [value]="realEstate.location"></textarea>
        </td>
      </tr>
      <tr>
        <td class="align-top">Medidas y<br>colindancias:</td>
        <td colspan="3">
          <textarea class="text-area" rows="3" disabled [value]="realEstate.metesAndBounds"></textarea>
        </td>
      </tr>
    </table>

    <table class="form-section">
      <tr>
        <td class="form-section-title" colspan="5">Partes interesadas y operación proyectada</td>
      </tr>
      <tr>
        <td class="align-top">Titular(es):</td>
        <td colspan="4">
          <textarea class="text-area uppercase" rows="3" formControlName="grantors"></textarea>
        </td>
      </tr>
      <tr>
        <td class="align-top">Contratante(s):</td>
        <td colspan="4">
          <textarea class="text-area uppercase" rows="3" formControlName="grantees"></textarea>
        </td>
      </tr>
      <tr>
        <td class="align-top">Operación proyectada:</td>
        <td colspan="4">
          <textarea class="text-area uppercase" rows="3" formControlName="projectedOperation"></textarea>
        </td>
      </tr>
      <tr>
        <td></td>
        <td>
          ¿Aplica a una nueva fracción del predio?:
        </td>
        <td>
          <select class="select-box" style="width:92px" formControlName="createPartition"
                  (change)="onUpdateUI('createPartition')">
            <option value="">( ? )</option>
            <option value="true">Sí</option>
            <option value="false">No</option>
          </select>
        </td>
        <td>
          Nombre de la nueva fracción:
        </td>
        <td>
          <input type="text" class="text-box uppercase" formControlName="partitionName">
        </td>
      </tr>
      <tr>
          <td class="form-section-title" colspan="5">Observaciones para el Registro Público</td>
      </tr>
      <tr>
        <td colspan="5">
          <textarea class="text-area uppercase" rows="3" formControlName="observations"></textarea>
        </td>
      </tr>
    </table>

  </fieldset>

  <div class="form-errors" *ngIf="exceptionMsg">{{exceptionMsg}}</div>

  <div class="form-footer" *ngIf="!readonly">
    <table class="form-section">
      <tr>
        <td>
          <button *ngIf="canDelete" type="button" class="btn-warning"
                  (click)="onDelete()">Eliminar</button>
        </td>
        <td class="text-align-right">

          <button *ngIf="editionMode" type="submit" class="btn btn-margin-right"
                  [class.btn]="!isReadyForSave" [class.btn-action]="isReadyForSave"
                  (click)="onSubmit()">Guardar cambios</button>

          <button *ngIf="canEdit" type="button" class="btn-action right"
                  (click)="onEdit()">Editar</button>

          <button *ngIf="editionMode" type="button" class="btn right"
                  (click)="onCancel()">Cancelar edición</button>

        </td>
      </tr>
    </table>
  </div>

</form>
